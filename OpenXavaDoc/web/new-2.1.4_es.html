Estas son alguna de la nuevas caracter&iacute;stica en OpenXava 2.1.3:<br>
<ul>
  <li><a href="#Acciones_para_modo_lista_se_pueden_usar">Acciones para
modo lista se pueden usar en las colecciones</a></li>
  <li><a href="#Acciones_de_lista_por_defecto">Acciones de lista por
defecto</a></li>
  <li><a href="#Nuevas_acciones_en_las_colecciones_para">Nuevas
acciones en las colecciones</a></li>
</ul>
<h4><a name="Acciones_para_modo_lista_se_pueden_usar"></a>Acciones para
modo lista se pueden usar en las colecciones</h4>
Acciones para modo lista, es decir acciones que usan el objeto <span
 style="font-family: monospace;">xava_tab</span> ahora pueden
escribirse de esta forma:<br>
<pre>public class DeselectRowsAction extends TabBaseAction {</pre>
<pre><br>&nbsp;&nbsp;&nbsp; public void execute() throws Exception {</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; getTab().deselectAll();</pre>
<pre>&nbsp;&nbsp;&nbsp; }</pre>
<pre><br>}</pre>
Como se ve la acci&oacute;n extendiende de <span
 style="font-family: monospace;">TabBaseAction</span>.<br>
Adem&aacute;s, no necesitamos inyectar el objeto <span
 style="font-family: monospace;">xava_tab</span> en controladores.xml,
es decir podemos declarar nuestra acci&oacute;n como sigue:<br>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;accion nombre="deselectRows"</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; clase="org.openxava.actions.DeselectRowsAction"</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; oculta="true"</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; modo="list"&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/accion&gt;&nbsp;&nbsp;&nbsp; </pre>
El <span style="font-family: monospace;">&lt;usa-objeto
nombre="xava_test"/&gt;</span> no est&aacute; presente.<br>
<br>
De esta manera nuestra acci&oacute;n funcionar&aacute; en modo lista y
tambi&eacute;n <span style="font-weight: bold;">en las colecciones</span>,
porque desde v2.14 las acciones de lista que usan <span
 style="font-family: monospace;">Tab</span>
se pueden aplicar a las colecciones como <span
 style="font-family: monospace;">&lt;accion-lista/&gt;</span>.
<h4></h4>
<h4><a name="Acciones_de_lista_por_defecto"></a>Acciones de lista por
defecto</h4>
Si queremos a&ntilde;adir alguna acciones de lista a todas las
colecciones de nuestra aplicaci&oacute;n hemos de crear un controlador
llamado DefaultListActionsForCollections en nuestro propio
xava/controladores.xml como sigue:<br>
<pre>&lt;controlador nombre="DefaultListActionsForCollections"&gt;</pre>
<pre>&nbsp;&nbsp;&nbsp; &lt;hereda-de controlador="Print"/&gt;</pre>
<pre>&nbsp;&nbsp;&nbsp; &lt;accion nombre="exportarComoXML" </pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; clase="org.openxava.test.acciones.ExportarComoXML"&gt;</pre>
<pre>&nbsp;&nbsp;&nbsp; &lt;/accion&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </pre>
<pre>&lt;/controlador&gt;</pre>
De esta forma todas las colecciones tendr&aacute;n las acciones del
controlador Print (para exportar a Excel y generar informes PDF) y
nuestra propia acci&oacute;n ExportarComoXML. Esto tiene el mismo
efecto que el elemento &lt;accion-lista/&gt; (en secci&oacute;n 4.4.2)
pero aplica a todas las colecciones a la vez.<br>
<h4><a name="Nuevas_acciones_en_las_colecciones_para"></a>Nuevas
acciones en las colecciones (para las pruebas junit)</h4>
Ahora todas las acciones del modo lista tambi&eacute;n est&aacute;n
disponibles en las colecciones. El usuario puede filtrar, paginar,
ordenar, etc. en cualquier colecci&oacute;n. Por tanto, podemos
tambi&eacute;n probar estas acciones en nuestras pruebas junit. Es
f&aacute;cil.<br>
Por ejemplo, si queremos probar la acci&oacute;n para ordenar, podemos
hacer lo siguiente en nuestra prueba junit:<br>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Ordenar por column</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; execute("List.orderBy", "property=codigo,<span
 style="font-weight: bold; color: rgb(51, 102, 255);">collection=clientes</span>");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 0, "codigo", "1");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 1, "codigo", "2");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; execute("List.orderBy", "property=codigo,<span
 style="font-weight: bold; color: rgb(51, 102, 255);">collection=clientes</span>");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 0, "codigo", "2");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 1, "codigo", "1");</pre>
Como se puede ver, solo necesitamos declarar el argumento <span
 style="font-family: monospace;">collection</span>.<br>
Si queremos filtrar, podemos escribir un c&oacute;digo de prueba como
este:<br>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Filtrar&nbsp;</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; String [] condicion = { "1" };</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; setConditionValues(<span
 style="font-weight: bold; color: rgb(51, 102, 255);">"clientes"</span>, condition);</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; execute("List.filter", "collection=clientes"); </pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertCollectionRowCount("clientes", 1);</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 0, "codigo", "1");</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; assertValueInCollection("clientes", 0, "nombre", "Javi");</pre>
Como se ve, el m&eacute;todo <span style="font-family: monospace;">setConditionValues</span>
permite indicar el nombre de la colecci&oacute;n como primer argumento.<br>
<br>
