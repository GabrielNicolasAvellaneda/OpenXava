<h4>Nueva anotaci&oacute;n @OnChangeSearch para referencias</h4>

Ahora es posible refinar la acci&oacute;n a ajecutar cuando el usuario teclea la clave de una reference para buscarla.<br>

Definimos nuestra referencia de esta forma:<br>

<pre>@ManyToOne<span class="br0">(</span>fetch=FetchType.<span class="me1">LAZY</span><span class="br0">)</span><br>@OnChangeSearch<span class="br0">(</span>BuscarAlCambiarSubfamilia.<span class="kw2">class</span><span class="br0">)</span><br><span class="kw2">private</span> Subfamilia subfamilia;<br></pre>

Y escribir nuestra propia acci&oacute;n para buscar:<br>

<span style="font-family: monospace;">package org.openxava.test.acciones;<br>

<br>

import org.openxava.actions.*;<br>

<br>

/**<br>

&nbsp;*<br>

&nbsp;* @author Javier Paniza<br>

&nbsp;*/<br>

public class BuscarAlCambiarSubfamilia<br>

&nbsp;&nbsp;&nbsp; extends OnChangeSearchAction {&nbsp; // 1<br>

<br>

&nbsp;&nbsp;&nbsp; public void execute() throws Exception {<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (getView().getValueInt("codigo") == 0) {<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getView().setValue("codigo", new Integer("1"));<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.execute();<br>

&nbsp;&nbsp;&nbsp; }<br>

<br>

}</span>
