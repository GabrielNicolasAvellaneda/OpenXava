<?xml version="1.0"?>
<tl>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
<declare import="org.openxava.component.MetaComponent"/>
<declare import="org.openxava.util.Strings"/>
<declare import="org.openxava.model.meta.*"/>
<declare import="org.openxava.mapping.*"/>

&lt;!-- Generated by OpenXava: <expr>new Date()</expr> --&gt;
<java>
String componentName = properties.getProperty("arg3");
String aggregateName = properties.getProperty("arg4");
MetaComponent component = MetaComponent.get(componentName);
ModelMapping mapping = null;
if (aggregateName == null) {
	mapping = component.getEntityMapping();	
}
else {
	mapping = component.getAggregateMapping(aggregateName);	
}
String tableId = Strings.change(mapping.getTable(), ".", "_");
String table = mapping.getTable();
String schema = mapping.getSchema();
</java> 

&lt;RDBSchema:RDBTable xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:RDBSchema="RDBSchema.xmi" xmi:id="<expr>tableId</expr>" name="<expr>table</expr>" primaryKey="C4404645"&gt;
  &lt;database href="META-INF/backends/OPENXAVA/DB.dbxmi#DB"/&gt;
  &lt;schema href="META-INF/backends/OPENXAVA/<expr>schema</expr>.schxmi#<expr>schema</expr>"/&gt;
  &lt;columns xmi:type="RDBSchema:RDBColumn" xmi:id="DNI" name="DNI"&gt;
    &lt;type xmi:type="RDBSchema:DB2AS400CharacterStringType" xmi:id="DB2AS400CharacterStringType_1107953075972" characterSet="800" length="10"&gt;
      &lt;originatingType xmi:type="RDBSchema:DB2AS400CharacterStringType" href="DB2UDBAS400_V5_Primitives.xmi#DB2AS400CharacterStringType_3"/&gt;
    &lt;/type&gt;
  &lt;/columns&gt;
  &lt;columns xmi:type="RDBSchema:RDBColumn" xmi:id="NOMBRE" name="NOMBRE" allowNull="true"&gt;
    &lt;type xmi:type="RDBSchema:DB2AS400CharacterStringType" xmi:id="DB2AS400CharacterStringType_1107953075973" characterSet="800" length="20"&gt;
      &lt;originatingType xmi:type="RDBSchema:DB2AS400CharacterStringType" href="DB2UDBAS400_V5_Primitives.xmi#DB2AS400CharacterStringType_3"/&gt;
    &lt;/type&gt;
  &lt;/columns&gt;
  &lt;columns xmi:type="RDBSchema:RDBColumn" xmi:id="APELLIDOS" name="APELLIDOS" allowNull="true"&gt;
    &lt;type xmi:type="RDBSchema:DB2AS400CharacterStringType" xmi:id="DB2AS400CharacterStringType_1107953075974" characterSet="800" length="50"&gt;
      &lt;originatingType xmi:type="RDBSchema:DB2AS400CharacterStringType" href="DB2UDBAS400_V5_Primitives.xmi#DB2AS400CharacterStringType_3"/&gt;
    &lt;/type&gt;
  &lt;/columns&gt;
  &lt;namedGroup xmi:type="RDBSchema:SQLReference" xmi:id="C4404645" name="C4404645" members="DNI" constraint="SQLConstraint_1107953075972"/&gt;
  &lt;constraints xmi:id="SQLConstraint_1107953075972" name="C4404645" type="PRIMARYKEY" primaryKey="C4404645"/&gt;
&lt;/RDBSchema:RDBTable&gt;
</tl>