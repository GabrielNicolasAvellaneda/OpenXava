<?xml version="1.0"?>
<tl>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
<declare import="java.util.*"/>
<declare import="org.openxava.util.Strings"/>
<declare import="org.openxava.component.MetaComponent"/>
<declare import="org.openxava.model.meta.*"/>
<declare import="org.openxava.mapping.*"/>
<declarations>
private static long id = System.currentTimeMillis();
</declarations> 

&lt;!-- Generated by OpenXava: <expr>new Date()</expr> --&gt;

&lt;ejbrdbmapping:EjbRdbDocumentRoot xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:RDBSchema="RDBSchema.xmi" xmlns:ejb="ejb.xmi" xmlns:ejbrdbmapping="ejbrdbmapping.xmi" xmlns:Mapping="Mapping.xmi" xmi:id="EjbRdbDocumentRoot_<expr>id++</expr>" topToBottom="true" commandStack=""&gt;
  &lt;helper xmi:type="ejbrdbmapping:RdbSchemaProperies" xmi:id="RdbSchemaProperies_<expr>id++</expr>" primitivesDocument="SQL92"/&gt;
<java>
for (Iterator itModels=MetaModel.getAllPersistent().iterator(); itModels.hasNext();) {
	MetaModel model = (MetaModel) itModels.next();
	ModelMapping mapping = model.getMapping();
	String tableId = Strings.change(mapping.getTable(), ".", "_"); 
</java>   
  &lt;nested xmi:type="ejbrdbmapping:RDBEjbMapper" xmi:id="RDBEjbMapper_<expr>id++</expr>"&gt;
    &lt;helper xmi:type="ejbrdbmapping:PrimaryTableStrategy" xmi:id="PrimaryTableStrategy_<expr>id++</expr>"&gt;
      &lt;table href="META-INF/backends/OPENXAVA/<expr>tableId</expr>.tblxmi#<expr>tableId</expr>"/&gt;
    &lt;/helper&gt;
<java>
	for (Iterator itFields=mapping.getCmpFields().iterator(); itFields.hasNext();) {
		CmpField field = (CmpField) itFields.next();
		String column = field.getColumn();
		String cmpAttributeId = "CmpAttribute_" + model.getName() + "_" + field.getCmpPropertyName();
</java> 
    &lt;nested xmi:type="ejbrdbmapping:RDBEjbFieldMapper" xmi:id="RDBEjbFieldMapper_<expr>id++</expr>"&gt;
      &lt;inputs xmi:type="ejb:CMPAttribute" href="META-INF/ejb-jar.xml#<expr>cmpAttributeId</expr>"/&gt;
      &lt;outputs xmi:type="RDBSchema:RDBColumn" href="META-INF/backends/OPENXAVA/<expr>tableId</expr>.tblxmi#<expr>column</expr>"/&gt;
    &lt;/nested&gt;
<java>
	}
</java> 
    &lt;inputs xmi:type="ejb:ContainerManagedEntity" href="META-INF/ejb-jar.xml#ContainerManagedEntity_<expr>model.getName()</expr>"/&gt;
    &lt;outputs xmi:type="RDBSchema:RDBTable" href="META-INF/backends/OPENXAVA/<expr>tableId</expr>.tblxmi#<expr>tableId</expr>"/&gt;
  &lt;/nested&gt;
<java>
}
</java>   
  &lt;inputs xmi:type="ejb:EJBJar" href="META-INF/ejb-jar.xml#ejb-jar_1"/&gt;
  &lt;outputs xmi:type="RDBSchema:RDBDatabase" href="META-INF/backends/OPENXAVA/DB.dbxmi#DB"/&gt;
  &lt;typeMapping xmi:type="Mapping:MappingRoot" href="JavatoSQL92TypeMaps.xmi#Java_to_SQL92_TypeMaps"/&gt;
&lt;/ejbrdbmapping:EjbRdbDocumentRoot&gt;
</tl>