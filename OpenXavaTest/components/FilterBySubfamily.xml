<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE component SYSTEM "dtds/component.dtd">

<!--
	Example of OpenXava component not persistent.

	This can be used, for example, to display a dialog,
	or any other graphical interface.
	
	Of course, if we try to save or read from db
	with this component it will crash.
	
	At moment it is needed to specify the mapping part.
	
	This example ONLY SHOW DIALOG, DOES NOT DO ANY REPORT OR PROCESS
-->

<component name="FilterBySubfamily">

	<entity>  
		<property name="oid" key="true" type="String" hidden="true"/>
		<reference name="subfamily" model="Subfamily2"/>
		<reference name="subfamilyTo" model="Subfamily2"/> 		
	</entity>		
	
	<view name="Family1">
		<reference-view reference="subfamily" create="false">
			<descriptions-list condition="${family.number} = 1"/>
		</reference-view>
		<members>subfamily</members>
	</view>
	
	<view name="Family2">
		<reference-view reference="subfamily" create="false">
			<descriptions-list condition="${family.number} = 2"/>
		</reference-view>
		<members>subfamily</members>
	</view>

	<view name="WithSubfamilyForm">	
		<reference-view reference="subfamily" search="false"/>
		<members>subfamily</members>
	</view>
	
	<view name="Range">
		<members>subfamily; subfamilyTo</members>
	</view>
	
	<entity-mapping table="XAVATEST@separator@MOCKTABLE">
		<property-mapping property="oid" column="OID"/>
		<reference-mapping reference="subfamily">
			<reference-mapping-detail 
				column="SUBFAMILY" 
				referenced-model-property="number"/> 
		</reference-mapping>
		<reference-mapping reference="subfamilyTo">
			<reference-mapping-detail 
				column="SUBFAMILYTO" 
				referenced-model-property="number"/> 
		</reference-mapping>		
	</entity-mapping>
	
</component>