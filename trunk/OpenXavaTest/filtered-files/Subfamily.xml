<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE component SYSTEM "dtds/component.dtd">

<!--
	Exists version without oid (Subfamily2)
-->

<component name="Subfamily">

	<entity>
		<property name="oid" type="String" key="true" hidden="true">
			<default-value-calculator 
				class="org.openxava.calculators.UUIDCalculator"
				on-create="true"/>
		</property>
		<property name="number" type="int" size="3" required="true"  stereotype="FILLED_WITH_ZEROS"/>
		<property name="familyNumber" stereotype="FAMILY" required="true"/>   			
		<property name="family" type="String" size="40" hidden="true">
			<!-- Only for column description in tab -->			
			<calculator class="org.openxava.calculators.EmptyStringCalculator"/>
		</property>
		<property name="description" type="String" size="40" required="true"/>
		<property name="remarks" stereotype="MEMO" size="400"/>
		<property name="remarksDB" type="String">
			<calculator class="org.openxava.test.calculators.SubfamilyPureRemarksCalculator"/>
		</property>		
		
	</entity>
	
	<view>		
		<members>
			number
			<section name="data">
				familyNumber;
				family;
				description;
				remarks	
			</section>
		</members>
	</view>
	
	<tab name="CompleteSelect">
		<properties>number, description, family</properties>
		<base-condition>
				select ${number}, ${description}, XAVATEST_FAMILY.DESCRIPTION
				from   XAVATEST_SUBFAMILY, XAVATEST_FAMILY
				where  XAVATEST_SUBFAMILY.FAMILY = XAVATEST_FAMILY.NUMBER
		</base-condition>
	</tab>	
						
	<entity-mapping table="XAVATEST_SUBFAMILY">
		<property-mapping property="oid" column="OID"/>	
		<property-mapping 
			property="number" column="NUMBER"/>
		<property-mapping 
			property="familyNumber" column="FAMILY"/>			
		<property-mapping
			property="description" column="DESCRIPTION"/>
		<property-mapping
			property="remarks" column="REMARKS"/>			
	</entity-mapping> 
	
</component>