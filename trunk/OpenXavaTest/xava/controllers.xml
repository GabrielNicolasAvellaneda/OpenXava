<?xml version = "1.0" encoding = "ISO-8859-1"?>

<!DOCTYPE controllers SYSTEM "dtds/controllers.dtd">

<!-- OpenXavaTest -->

<controllers> 
	
	<object name="xavatest_activeYear" class="java.lang.Integer" value="2004" scope="global"/>
	<object name="xavatest_defaultYear" class="java.lang.Integer" value="1999"/>		
	<object name="xavatest_limitZone" class="java.lang.Integer" value="999"/>
	<object name="xavatest_invoiceValues" class="java.util.Map"/>
		
	<!-- 
		You can define attribute 'label' and 'description' for action, but
		the resources in 'Labels.properties' or '${application}-labels.properties'
		take preference over it.
		That is to say, it is better specify the labels in resources files and not here.		
	-->	
	
	
	<!-- 
	This 'Collection' controllers override the default 'Collection' controller
	of OpenXava. Because it has the same name.
	In OpenXavaTest application this controller and not the one in default-controllers.xml
	is used to manage collections.
	 -->
	<controller name="Collection">
		<action name="new" image="images/create_new.gif"
			class="org.openxava.actions.CreateNewElementInCollectionAction">			
		</action>	

		<action name="add" image="images/create_new.gif"
			class="org.openxava.actions.GoAddElementsToCollectionAction">		
			<use-object name="xava_tab"/>	
			<use-object name="xava_currentCollectionLabel"/>
			<use-object name="xava_collectionViewObject"/>
		</action>												
		<action name="hideDetail"
			class="org.openxava.test.actions.HideDetailElementInCollectionWithMessageAction">
		</action>							
		<action name="save"
			class="org.openxava.actions.SaveElementInCollectionAction">			
			<use-object name="xava_view"/>
		</action>			
		<action name="remove"
			class="org.openxava.actions.RemoveElementFromCollectionAction">			
			<use-object name="xava_view"/>
		</action>					
		<action name="edit" image="images/edit.gif"
			class="org.openxava.actions.EditElementInCollectionAction">			
			<use-object name="xava_view"/>
		</action>							
		<action name="view" image="images/view.gif"
			class="org.openxava.actions.EditElementInCollectionAction">			
			<use-object name="xava_view"/>
		</action>			 
		<action name="removeSelected" confirm="true" image="images/delete.gif"
			class="org.openxava.actions.RemoveSelectedInCollectionAction">
			<use-object name="xava_view"/>
		</action>	
	</controller>
	
	<controller name="ChangeActiveYear">
		<action name="showActiveYear" class="org.openxava.test.actions.ShowActiveYearAction"
			on-init="true" hidden="true">
			<use-object name="xava_view"/>
			<use-object name="xavatest_activeYear"/>
		</action>	
		<action name="changeActiveYear" class="org.openxava.test.actions.ChangeActiveYearAction">
			<use-object name="xava_view"/>
			<use-object name="xavatest_activeYear"/>
		</action>
	</controller>
		
	<controller name="DeliveryType"> 
		<extends controller="Typical"/>
		<action name="saveNotReset" mode="detail"
			class="org.openxava.actions.SaveAction"
			image="images/save.gif"
			keystroke="control alt S">			
			<set property="resetAfter" value="false"/>
			<use-object name="xava_view"/>
		</action>
		<action name="assertComboDeliveries" mode="detail"
			class="org.openxava.test.actions.AssertComboDeliveriesAction">			
			<use-object name="xava_view"/>
		</action>		
	</controller>
	
	<controller name="TypicalNotResetOnSave">
		<extends controller="Typical"/>
		<action name="save" mode="detail"
			class="org.openxava.actions.SaveAction"
			image="images/save.gif"
			keystroke="F3">			
			<set property="resetAfter" value="false"/>
			<use-object name="xava_view"/>
		</action>				
	</controller>	
			
	<controller name="EditableOnOff">
		<action name="setOn" mode="detail"
			class="org.openxava.test.actions.SetEditableOnAction">
			<use-object name="xava_view"/>
		</action>
		<action name="setOff" mode="detail"
			class="org.openxava.test.actions.SetEditableOffAction">
			<use-object name="xava_view"/>
		</action>
	</controller>
		
	<controller name="Delivery">
		<extends controller="EditableOnOff"/>
		<action name="search" mode="detail"
			by-default="if-possible" hidden="true"			
			class="org.openxava.test.actions.SearchDeliveryAction"
			keystroke="F8">									
			<use-object name="xava_view"/>
		</action>		
		<action name="activateDeactivateSection" mode="detail"
			class="org.openxava.test.actions.ActivateDeactivateSectionAction">					
			<set property="section" value="remarks" />
			<use-object name="xava_view"/>			
		</action> 	
		<action name="generateNumber" hidden="true"
			class="org.openxava.test.actions.GenerateDeliveryNumberAction">					
			<use-object name="xava_view"/>			
		</action>		
		<action name="generateNumber88" hidden="true"
			class="org.openxava.test.actions.GenerateDeliveryNumberPropertyAction">
			<!-- This is an IPropertyAction hence xava_view is not injected -->								
		</action>				
		<action name="setDefaultType" hidden="true"
			class="org.openxava.test.actions.SetPropertyValueAction">					
			<set property="property" value="type.number"/>
			<set property="value" value="1"/>
			<use-object name="xava_view"/>			
		</action>				
		<action name="setDefaultInvoice" hidden="true"
			class="org.openxava.test.actions.SetDefaultInvoiceAction">					
			<use-object name="xava_view"/>			
		</action>						
		<action name="hideActions" mode="detail"
			class="org.openxava.test.actions.HideDeliveryActionsAction"/>																			
		<action name="viewCurrentYearInvoices" mode="detail"
			class="org.openxava.test.actions.ViewCurrentYearInvoicesAction">	
			<use-object name="xava_tab"/>
		</action>
		<action name="hideAdvice" mode="detail"
			class="org.openxava.test.actions.HideShowPropertyAction">					
			<set property="property" value="advice" />
			<set property="hide" value="true" />
			<use-object name="xava_view"/>			
		</action>
		<action name="hideShortcut" mode="detail" 
			class="org.openxava.test.actions.HideShowPropertyAction">					
			<set property="property" value="shortcut" />
			<set property="hide" value="true" />
			<use-object name="xava_view"/>			
		</action>								
	</controller>
	
	<controller name="DeliveryDetail">
		<action name="new" image="images/create_new.gif"
			class="org.openxava.test.actions.NewDeliveryDetailAction">			
		</action>					
		<action name="hideDetail"
			class="org.openxava.test.actions.HideDeliveryDetailAction">			
		</action>							
		<action name="save"
			class="org.openxava.test.actions.SaveDeliveryDetailAction">			
			<use-object name="xava_view"/>
		</action>			
		<action name="remove" 
			class="org.openxava.test.actions.RemoveDeliveryDetailAction">			
			<use-object name="xava_view"/>
		</action>					
		<action name="removeSelected" confirm="true" image="images/delete.gif"
			class="org.openxava.test.actions.RemoveSelectedDeliveryDetailsAction">
			<use-object name="xava_view"/>
		</action>				
	</controller>	
	
	<controller name="Product">	
		<extends controller="EditableOnOff"/>		
		<action name="setLimitZoneTo1" class="org.openxava.test.actions.ChangeLimitZoneAction" mode="detail">			
			<set property="newLimitZone" value="1"/>
			<use-object name="xavatest_limitZone"/>
		</action>		
		<action name="setLimitZoneTo0" class="org.openxava.test.actions.ChangeLimitZoneAction" mode="detail">			
			<set property="newLimitZone" value="0"/>
			<use-object name="xavatest_limitZone"/>
		</action>				
		<action name="changeProductPrice" class="org.openxava.test.actions.ChangeProductPriceAction" mode="detail">					
			<use-object name="xava_view"/> 
		</action>
	</controller>	
	
	<controller name="Product2">
		<action name="deactivateType" class="org.openxava.test.actions.DeactivateReferenceAction" mode="detail">			
			<set property="reference" value="family"/>
			<use-object name="xava_view"/>
		</action>		
		<action name="changeLimitZone" class="org.openxava.test.actions.ChangeLimitZoneAction" mode="detail">			
			<set property="newLimitZone" value="1"/>
			<use-object name="xavatest_limitZone"/>
		</action>		
	</controller>
	
	<controller name="Product3">	
		<action name="changeFamily" mode="detail" class="org.openxava.test.actions.SetPropertyValueNotifyingAction">				
				<set property="property" value="family.oid"/>
				<set property="value" value="1037101896763"/>
				<use-object name="xava_view"/>
		</action>					
		
		<action name="hideDescription" mode="detail" on-init="true" 
			class="org.openxava.test.actions.HideShowGroupAction">								
			<set property="group" value="description"/>	
			<set property="hide" value="true"/>	
			<use-object name="xava_view"/>
		</action>				
		
		<action name="showDescription" mode="detail" 
			class="org.openxava.test.actions.HideShowGroupAction">								
			<set property="group" value="description"/>	
			<set property="show" value="true"/>	
			<use-object name="xava_view"/>
		</action>				
					
	</controller>
			 	
	<controller name="Customer">
		<extends controller="Typical"/>
		<extends controller="EditableOnOff"/>
		<action name="save" mode="detail"
			class="org.openxava.actions.SaveAction"
			image="images/save.gif"
			keystroke="F3">			
			<set property="resetAfter" value="false"/>
			<use-object name="xava_view"/>
		</action>				

		<action name="hideSeller" mode="detail" 
			class="org.openxava.test.actions.HideShowGroupAction">								
			<set property="group" value="seller"/>	
			<set property="hide" value="true"/>	
			<use-object name="xava_view"/>
		</action>				

		<action name="showSeller" mode="detail" 
			class="org.openxava.test.actions.HideShowGroupAction">								
			<set property="group" value="seller"/>	
			<set property="show" value="true"/>	
			<use-object name="xava_view"/>
		</action>
		<action name="hideSellerInList" mode="list"
			class="org.openxava.test.actions.HideListPropertyAction">								
			<set property="property" value="seller.name"/>	
			<use-object name="xava_tab"/>
		</action>										
		<action name="showSellerInList" mode="list"
			class="org.openxava.test.actions.ShowListPropertyAction">								
			<set property="property" value="seller.name"/>	
			<set property="index" value="2"/>	
			<use-object name="xava_tab"/>
		</action>												
		<action name="moveRelationWithSellerToRemarks" mode="detail"
			class="org.openxava.test.actions.MoveRelationWithSellerToRemarksAction">
			<use-object name="xava_view"/>
		</action>
		<action name="changeToSimpleView" mode="detail"
			class="org.openxava.test.actions.ChangeViewAction">
			<set property="newView" value="Simple"/>
			<use-object name="xava_view"/>
		</action>
		<action name="changeNameLabel" mode="detail" class="org.openxava.test.actions.ChangeLabelAction" hidden="true">				
			<set property="property" value="name"/>
			<set property="label" value="Malnom"/>
			<use-object name="xava_view"/>
		</action>			
		<action name="changeAlternateSellerLabel" mode="detail" class="org.openxava.test.actions.ChangeLabelAction">				
			<set property="property" value="alternateSeller"/>
			<set property="label" value="Secondary seller"/>
			<use-object name="xava_view"/>
		</action>				
		
		<action name="prefixStreet" class="org.openxava.test.actions.PrefixAction" hidden="true">
			<!-- This is an IPropertyAction hence xava_view is not injected -->
			<set property="prefix" value="C/ "/>
		</action>
		
	</controller>
	
			
	<controller name="CustomerNewOnInit">
		<action name="new" 
			class="org.openxava.actions.NewAction"
			image="images/new.gif" on-init="true"
			keystroke="F2">
			<set property="restoreModel" value="true"/>
			<use-object name="xava_view"/>			
		</action>			
		<action name="getName" mode="detail"
			class="org.openxava.test.actions.GetNameAction">
			<use-object name="xava_view"/>
		</action>		
	</controller>
	
	<controller name="CustomerNewOnInitInherited">
		<extends controller="CustomerNewOnInit"/>
	</controller>
	
	<controller name="Invoice">
		<extends controller="Typical"/>
		<action name="print" mode="detail"
			class="org.openxava.test.actions.InvoiceReportAction"
			image="images/pdf.gif">									
			<use-object name="xava_view"/>			
		</action>
		<action name="searchFromDelivery" hidden="true"
			class="org.openxava.test.actions.SearchInvoiceFromDeliveryAction">									
			<use-object name="xava_view"/>
		</action>		 
		<action name="listOfCustomer" hidden="true"
			class="org.openxava.test.actions.ListCustomerInvoicesAction">
			<use-object name="xava_tab"/>
		</action>		
		<action name="editDetail" hidden="true" 
			image="images/edit.gif"
			class="org.openxava.test.actions.EditInvoiceDetailAction">	
			<use-object name="xava_view"/>
		</action>			
		<action name="viewDelivery" hidden="true"
			class="org.openxava.test.actions.ViewDeliveryFromInvoiceAction">	
			<use-object name="xava_view"/>
		</action>					
		<action name="viewProduct" hidden="true"
			class="org.openxava.test.actions.ViewProductFromInvoiceDetailAction">	
			<use-object name="xava_view"/>
			<use-object name="xavatest_invoiceValues"/>
		</action>	
		 
		<action name="removeViewDeliveryInInvoice"
			class="org.openxava.test.actions.RemoveViewDeliveryInInvoiceAction">	
			<use-object name="xava_view"/>
		</action>	
		<action name="addViewDeliveryInInvoice"
			class="org.openxava.test.actions.AddViewDeliveryInInvoiceAction">	
			<use-object name="xava_view"/>
		</action>
		
		<action name="changeTab" mode="list"
			class="org.openxava.test.actions.ChangeInvoiceTabAction">	
			<use-object name="xava_tab"/>
		</action>					
	</controller>
	
	<controller name="CustomerInvoices">
		<action name="return" class="org.openxava.actions.ReturnPreviousModuleAction"/>
	</controller>
	
	<controller name="ProductFromInvoice">
		<action name="return" 
			class="org.openxava.test.actions.ReturnToInvoiceAction">									
			<use-object name="xava_view"/>
			<use-object name="xavatest_invoiceValues"/>
		</action>		
	</controller>
		
	<controller name="Invoice2002">
		<action name="init" on-init="true" hidden="true"
			class="org.openxava.test.actions.InitDefaultYearTo2002Action">
			<use-object name="xavatest_defaultYear"/>
			<use-object name="xava_tab"/>
		</action>
		<action name="changeListTitle" mode="list"
			class="org.openxava.test.actions.ChangeListTitleAction">
			<set property="titleId" value="my_2002_invoices_title"/>			
			<use-object name="xava_tab"/>
		</action>
	</controller>	
		
	<controller name="ChangeProductsPrice">			

		<action name="init" hidden="true" on-init="true"
			class="org.openxava.test.actions.InitChangeProductsPriceAction">
			<use-object name="xava_view"/>
		</action>
						
		<action name="save" mode="detail"
			class="org.openxava.actions.SaveAction"
			keystroke="F3">			
			<use-object name="xava_view"/>
		</action>
						
	</controller>
	
	<controller name="ChangeProductsPrice2">			

		<action name="save" mode="detail"
			class="org.openxava.actions.SaveAction"
			keystroke="F3">			
			<use-object name="xava_view"/>
		</action>
		
		<action name="verifyEditables" mode="detail"
			class="org.openxava.test.actions.VerifyEditablesProductAction">			
			<use-object name="xava_view"/>
		</action>		
		
	</controller>
			
					
	<controller name="Warehouse">
		<extends controller="Typical"/>		
		
		<action name="changeZone" mode="detail" class="org.openxava.test.actions.ChangeZoneAction"/>				
		
		<action name="toLowerCase" mode="list"
			class="org.openxava.test.actions.ChangeToLowerCaseAction">
			<use-object name="xava_tab"/>
		</action>	
		
		<action name="changePageRowCount" mode="list"
			class="org.openxava.test.actions.ChangePageRowCountAction">
			<set property="rowCount" value="20"/>
			<use-object name="xava_tab"/>
		</action>
	</controller>
	
	<controller name="WarehouseSpecialNew">
		<extends controller="Typical"/>
		<action  name="new" 
			class="org.openxava.test.actions.NewWarehouseAction"
			image="images/new.gif"
			keystroke="Control N">
			<set property="restoreModel" value="true"/>
			<use-object name="xava_view"/>			
		</action>			
	</controller>
	
	<controller name="MyReference">
	
		<action name="search" hidden="true"
			class="org.openxava.test.actions.MySearchAction"
			image="images/search.gif">				
			<use-object name="xava_view"/>
			<use-object name="xava_referenceSubview"/>
			<use-object name="xava_tab"/>
			<use-object name="xava_currentReferenceLabel"/>			
		</action>			
				
	</controller>
		
	<controller name="Family">
		<extends controller="Typical"/>		
		<action name="new" image="images/new.gif"
			class="org.openxava.test.actions.CreateNewFamilyAction">						
			<use-object name="xava_view"/>			
		</action>			
	</controller>
	
	<controller name="FamilyHibernate"> 
		<action name="search" image="images/search.gif" hidden="true"
			class="org.openxava.test.actions.FamilyHibernateSearchAction">					
			<use-object name="xava_view"/>			
		</action>	
				
		<action name="save" mode="detail"
			class="org.openxava.test.actions.FamilyHibernateSaveAction"
			image="images/save.gif"
			keystroke="F3">			
			<use-object name="xava_view"/>
		</action>
		
		<action name="delete" mode="detail"
			class="org.openxava.test.actions.FamilyHibernateDeleteAction"
			image="images/delete.gif"
			keystroke="F4">
			<use-object name="xava_view"/>
		</action>
		
		<action name="new" 
			class="org.openxava.actions.NewAction"
			image="images/new.gif"
			keystroke="F2">
			<set property="restoreModel" value="true"/>
			<use-object name="xava_view"/>			
		</action>
			
	</controller>
	
	<controller name="FamilyProductsReport">
		<action name="generatePdf" 
			class="org.openxava.test.actions.FamilyProductsReportAction"
			takes-long="true">
			<use-object name="xava_view"/>			
		</action>
		<action name="generateExcel" 
			class="org.openxava.test.actions.FamilyProductsReportAction"
			takes-long="true">
			<set property="format" value="excel"/>
			<use-object name="xava_view"/>			
		</action>								
	</controller>		

	<controller name="StateHibernate"> 
		<action name="search" image="images/search.gif" mode="detail" 
			class="org.openxava.test.actions.StateHibernateSearchAction">					
			<use-object name="xava_view"/>			
		</action>	
				
		<action name="save" mode="detail"
			class="org.openxava.test.actions.StateHibernateSaveAction"
			image="images/save.gif"
			keystroke="F3">			
			<use-object name="xava_view"/>
		</action>
		
		<action name="delete" mode="detail"
			class="org.openxava.test.actions.StateHibernateDeleteAction"
			image="images/delete.gif"
			keystroke="F4">
			<use-object name="xava_view"/>
		</action>
		
		<action name="new" 
			class="org.openxava.actions.NewAction"
			image="images/new.gif"
			keystroke="F2">
			<set property="restoreModel" value="true"/>
			<use-object name="xava_view"/>			
		</action>
			
	</controller>
	
	<controller name="StateJPA"> 
		<action name="search" image="images/search.gif" mode="detail" 
			class="org.openxava.test.actions.StateJPASearchAction">					
			<use-object name="xava_view"/>			
		</action>	
				
		<action name="save" mode="detail"
			class="org.openxava.test.actions.StateJPASaveAction"
			image="images/save.gif"
			keystroke="F3">			
			<use-object name="xava_view"/>
		</action>
		
		<action name="delete" mode="detail"
			class="org.openxava.test.actions.StateJPADeleteAction"
			image="images/delete.gif"
			keystroke="F4">
			<use-object name="xava_view"/>
		</action>
		
		<action name="new" 
			class="org.openxava.actions.NewAction"
			image="images/new.gif"
			keystroke="F2">
			<set property="restoreModel" value="true"/>
			<use-object name="xava_view"/>			
		</action>
			
	</controller>
	
	
	<controller name="Remarks">
		<action name="hideRemarks" 
			class="org.openxava.test.actions.HideShowPropertyAction">					
			<set property="property" value="remarks" />
			<set property="hide" value="true" />
			<use-object name="xava_view"/>			
		</action>			
		<action name="showRemarks" mode="detail"
			class="org.openxava.test.actions.HideShowPropertyAction">					
			<set property="property" value="remarks" />
			<set property="hide" value="false" />
			<use-object name="xava_view"/>			
		</action>
		<action name="setRemarks" mode="detail"
			class="org.openxava.test.actions.SetPropertyValueAction">					
			<set property="property" value="remarks" />
			<set property="value" value="Hell in your eyes" />
			<use-object name="xava_view"/>			
		</action>							
	</controller>
	
	<controller name="Carrier">
	
		<action name="translateName" hidden="true"
			class="org.openxava.test.actions.TranslateCarrierNameAction">
		</action>		
		
		<action name="allToEnglish" hidden="true"
			class="org.openxava.test.actions.TranslateCarrierNameAction">
			<set property="targetLanguage" value="EN"/>
			<set property="all" value="true"/>
		</action>		
		
		<action name="todosAEspanol" hidden="true"
			class="org.openxava.test.actions.TranslateCarrierNameAction">
			<set property="targetLanguage" value="ES"/>
			<set property="all" value="true"/>
		</action>		
		
		<action name="deleteAll" class="org.openxava.test.actions.DeleteAllAction">
			<set property="model" value="Carrier" />
		</action>
		
		<action name="search" image="images/search.gif" mode="detail" 
			class="org.openxava.test.actions.CarriersSearchAction">
			<use-object name="xava_view"/>			
		</action>	
		
    	
	</controller>	
	
	<!--
	Because its name is WarehouseCreation (model name + Creation) it is used
	by default for creating from reference, instead of NewCreation.
	The action 'new' is executed automatically.
	-->
	<controller name="WarehouseCreation">
		<extends controller="NewCreation"/>
		<action name="new" hidden="true"
			class="org.openxava.test.actions.CreateNewWarehouseFromReferenceAction">
			<use-object name="xava_view"/>			
		</action>						
	</controller>
	
	<!-- 
	Because its name is WarehouseModification (model name + Modification) it is used
	by default for modifying from reference, instead of Modification.
	The action 'search' is executed automatically.
	-->
	<controller name="WarehouseModification">
		<extends controller="Modification"/>
		<action name="search" hidden="true"
			class="org.openxava.test.actions.ModifyWarehouseFromReferenceAction">
			<use-object name="xava_view"/>			
		</action>						
	</controller>
	

	<controller name="HideShowCRUDActions">
		<action name="hideDelete" class="org.openxava.test.actions.HideDeleteAction" mode="detail"/>
		<action name="showDelete" class="org.openxava.test.actions.ShowDeleteAction" mode="detail"/>
		<action name="hideSaveDelete" class="org.openxava.test.actions.HideSaveDeleteAction" mode="detail"/>
		<action name="showSaveDelete" class="org.openxava.test.actions.ShowSaveDeleteAction" mode="detail"/>		
	</controller>
	
	<controller name="Issue">
		<extends controller="Typical"/>
		<extends controller="DefaultSchema"/>
		<action name="changeToCompanyA" on-init="true"
			class="org.openxava.actions.SetDefaultSchemaAction">
			<set property="newDefaultSchema" value="COMPANYA"/>
			<use-object name="xava_defaultSchema"/>
		</action>
		<action name="changeToCompanyB" 
			class="org.openxava.actions.SetDefaultSchemaAction">
			<set property="newDefaultSchema" value="COMPANYB"/>
			<use-object name="xava_defaultSchema"/>
		</action>
	</controller>
	
	<controller name="CarrierWithSections">
		<action name="fellowCarriersSelected" mode="detail"
			class="org.openxava.test.actions.ViewNameFellowCarriersSelectedAction">
			<use-object name="xava_view"/>
		</action>
	</controller>				
		
	<controller name="MessagesOnEachRequest">
		<action name="messageOnList" class="org.openxava.test.actions.ShowMessageAction"
			hidden="true" mode="list" on-each-request="true">
			<set property="message" value="action_on_each_request_on_list"/>		
		</action>
		<action name="messageOnDetail" class="org.openxava.test.actions.ShowMessageAction"
			hidden="true" mode="detail" on-each-request="true">
			<set property="message" value="action_on_each_request_on_detail"/>		
		</action>
		<action name="messageOnBothModes" class="org.openxava.test.actions.ShowMessageAction"
			hidden="true" on-each-request="true">
			<set property="message" value="action_on_each_request"/>		
		</action>		
	</controller>
	
	<controller name="Color">
		<action name="seeMessage" class="org.openxava.test.actions.SeeMessageAction" mode="detail">
			<use-object name="xava_view"/>
		</action>
	</controller>	
</controllers>