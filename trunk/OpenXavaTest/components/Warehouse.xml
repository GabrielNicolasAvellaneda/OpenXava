<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE component SYSTEM "dtds/component.dtd">

<component name="Warehouse">

	<entity>
		<property name="zoneNumber" key="true"
			size="3" required="true" type="int"/>   			
		<property name="number" key="true"
			size="3" required="true" type="int"/>   
		<property name="name" type="String"
			size="40" required="true"/>
		<!-- tmp: This must be to move to a generic place -->
		<postcreate-calculator class="org.openxava.tracking.AccessTrackingCalculator">
			<set property="accessType" value="Create"/>
		</postcreate-calculator>
		<postload-calculator class="org.openxava.tracking.AccessTrackingCalculator">
			<set property="accessType" value="Read"/>
		</postload-calculator>		
		<postmodify-calculator class="org.openxava.tracking.AccessTrackingCalculator">
			<set property="accessType" value="Update"/>
		</postmodify-calculator>
		<preremove-calculator class="org.openxava.tracking.AccessTrackingCalculator">
			<set property="accessType" value="Delete"/>
		</preremove-calculator>		
	</entity>
			
	<tab>
		<filter class="org.openxava.test.filters.LimitZoneFilter"/>
		<base-condition>${zoneNumber} &lt;= ?</base-condition>
	</tab>		
								
	<entity-mapping table="XAVATEST@separator@WAREHOUSE">
		<property-mapping 
			property="zoneNumber" column="ZONE"/>	
		<property-mapping 
			property="number" column="NUMBER"  cmp-type="Integer">
			<converter class="org.openxava.converters.IntegerNumberConverter"/>						
		</property-mapping>
		<property-mapping
			property="name" column="NAME"/>
	</entity-mapping> 
	
</component>