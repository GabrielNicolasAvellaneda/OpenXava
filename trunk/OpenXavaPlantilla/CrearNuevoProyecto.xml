<?xml version="1.0"?>

<!--
	Este ant permite crear un nuevo proyecto OpenXava de forma sencilla.
	Simplemente pon valor a las propiedades y ejecuta la tarea crearNuevoProyecto.
-->

<project name="CrearNuevoProject" default="crearNuevoProyecto" basedir=".">

	<!-- Cambia el valor de las siguientes propiedades -->
	<property name="proyecto" value="MiProyecto" />
	<property name="paquete" value="mipaquete" />
	<property name="componente" value="MiComponente" />
	<property name="modulo" value="MiModulo" />
	<property name="fuentedatos" value="MiFuenteDatos" />
	
	<target name="crearNuevoProyecto">		
		<mkdir dir="../${proyecto}"/>
		<copy todir="../${proyecto}" overwrite="true">
			<fileset dir="." excludes="CrearNuevoProyecto.xml" />
	    	<filterset>	    	
				<filter token="proyecto" value="${proyecto}"/>
	    		<filter token="paquete" value="${paquete}"/>
	    		<filter token="componente" value="${componente}"/>
	    		<filter token="modulo" value="${modulo}"/>
	    		<filter token="fuentedatos" value="${fuentedatos}"/>
			</filterset> 			         
		</copy>						
		<move file="../${proyecto}/components/MiComponente.xml.plantilla" 
			tofile="../${proyecto}/components/${componente}.xml" />
		<move file="../${proyecto}/.externalToolBuilders/MiProyecto.wtpBuild.launch" 
			tofile="../${proyecto}/.externalToolBuilders/${proyecto}.wtpBuild.launch" />
		<move file="../${proyecto}/.project.template" 
			tofile="../${proyecto}/.project" />			
		<move file="../${proyecto}/xava/aplicacion.xml.plantilla" 
			tofile="../${proyecto}/xava/aplicacion.xml" />						
	</target>
					
</project>
