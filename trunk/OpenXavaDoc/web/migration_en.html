<h2>Migration from OpenXava 2.0.2 to OpenXava 2.0.3</h2>
Setting value for references (in combos) with compose key in JUnit tests must
be done using POJOs, now the use of EJB2 primary key is not supported.<br>
See documentation in <i>Migration from OpenXava 1.2.1 to OpenXava 2</i> below.

<h2>Migration from OpenXava 2.0.1 to OpenXava 2.0.2</h2>
Action <code>Collection.hiddenDetail</code> has been renamed to 
<code>Collection.hideDetail</code> in <i>controllers.xml</i>. 
You have to rename the action inside your junit tests.

<h2>Migration from OpenXava 2.0 to OpenXava 2.0.1</h2>
No issues

<h2>Migration from OpenXava 1.2.1 to OpenXava 2</h2>

<h4>Setting value for references (in combos) with compose key in JUnit tests</h4>
So far, to set the value to a reference displayed as <code>description-list</code>
(as combo), and mapped in database using multiple columns, you write:
<pre>
DrivingLicenceKey key = new DrivingLicenceKey();
key.setType("C ");
key.setLevel(1);
setValue("drivingLicence.KEY", key.toString());		
</pre>
But, if you uses a pure POJOs version, without Key classes, you have to write:
<pre>
DrivingLicence key = new DrivingLicence();
key.setType("C ");
key.setLevel(1);
setValue("drivingLicence.KEY", key.toString());		
</pre>
It's better to use the last way, because it's valid for POJOs and EJBs.

<h4>Hibernate: References with not null columns as foreign key</h4>

In EJB version if you have a reference to another entity that has primitive
types as key, the code is generated in a way that no null is saved to database,
even if you assign null to your reference.<br>
In hibernate version if you assign null to the reference, null values are saved
in database.<br>
Of course, the behaviour of hibernate version is more correct, but you can in
hibernate avoid null in database just using a converter in the reference mapping
(see section 6.3 of Reference Guide).<br>
That is, maybe you need to add some converters to your references in order
to migrate your application from EJB2 to Hibernate.<br>


<h4>Changing the active section</h4>

<code>xava_activeSection</code> is not longer used for changing the active section.
Now if you want to change the active section you must to call to method <code>setActiveSection</code>
of the desired view (<code>org.openxava.view.View</code>).

<h4>IAggragetOidCalculator</h4>
The <code>setContainerKey</code> method is renamed to <code>setContainer</code>. 
And its semantic changes too. Now the container object is received instead of the key. 
In this way this calculator is consistent in EJB2 and POJO (without key classes) versions.

<h2>Migration from OpenXava 1.2 to OpenXava 1.2.1</h2>

<h4>Hibernate generation</h4>
Now when the EJB code generation is done, the hibernate code generation is
executed too (although the hibernate version still does not work at 100%).<br>
Although you use only EJB version, you have to make this little adaptation in your project:
<ul>
<li> Create the folder <code>hibernate</code> in your project.
<li> Create the file <code>hibernate.cfg.xml</code> inside <code>hibernate</code> folder.
</ul>
The <code>hibernate.cfg.xml</code> have to be:
<pre>
&lt;!DOCTYPE hibernate-configuration PUBLIC
   "-//Hibernate/Hibernate Configuration DTD//EN"
   "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;
  &lt;hibernate-configuration&gt;
   &lt;session-factory&gt;
       &lt;property name="hibernate.connection.datasource"&gt;@datasource.prefix@/@datasource@&lt;/property&gt;
       &lt;property name="hibernate.dialect"&gt;@hibernate.dialect@&lt;/property&gt;
       &lt;property name="hibernate.show_sql"&gt;false&lt;/property&gt;
   &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;
</pre>
In addition you have to include the <code>hibernate.dialect</code> property in your configuration files:
<pre>
hibernate.dialect=org.hibernate.dialect.HSQLDialect
</pre>

<h4>XML OpenXava syntax</h4>
<ul>
<li> In spanish versi&oacute;n PEQUE&Ntilde;A now is PEQUENA. This is for avoid problems 
with ISO-8859-1 versus UTF-8.
</ul>

<h2>Migration from OpenXava 1.1 to OpenXava 1.2</h2>

<h4>Generated code</h4>
<p>
Now EJB remote interface has the suffix <i>Remote</i>, and the business interface
generated for each component (for example <code>ICustomer</code>) has no all methods of
the remote interface.<br>
This is for allowing to the future version 2 of OpenXava work with EJB and
Hibernate in the same project and at same time.<br>
In order to adapt you code to this, you must:
<ul>
<li>Delete all generated code
<li>Regenerate all EJB code
<li>Build all
<li>Search and correct all syntax error
</ul>
For correct syntax error you can change code in this way:
<pre>
<b>Customer</b> customer = CustomerUtil.getHome().findByName("PEPE");
String name = customer.getName();
</pre>
By this:
<pre>
<b>ICustomer</b> customer = CustomerUtil.getHome().findByName("PEPE");
String name = customer.getName();
</pre>
If you use specific EJB methods then you need cast to remote interface:
<pre>
<b>Customer</b> customer = CustomerUtil.getHome().findByName("PEPE");
CustomerKey key = customer.getPrimaryKey();
</pre>
By this:
<pre>
<b>CustomerRemote</b> customer = CustomerUtil.getHome().findByName("PEPE");
CustomerKey key = customer.getPrimaryKey();
</pre>
That is, change <code>Customer</code> by <code>ICustomer</code> when possible, 
if not possible change <code>Customer</code> by <code>CustomerRemote</code>.
</p>

<h4>JUnit tests</h4>
<ul>
<li> On deleting an object in a CRUD OpenXava now shows a javascript windows 
	to confirm, instead	of changing to another controller. Hence in your tests
	in order to remove an object from CRUD module you only need use execute("CRUD.delete"). 
	In this case 'yes' is assumed as confirmation answer.
</ul>

<h4>Others</h4>
<ul>
<li> Change the name of packages-ejb.properties in gen-src-xava to packages.properties
		(or you can simply remove packages-ejb.properties and regenerate code).
</li>
</ul>

<h2>Migration from OpenXava 1.0 to OpenXava 1.1</h2>

<h4>APIs</h4>
<ul>
<li>MetaView.getMetaViewCollection now is MetaView.getMetaCollectionView
<li>MetaView.getMetaViewReference now is MetaView.getMetaReferenceView
</ul>


<h4>JUnit tests</h4>
<ul>
<li> Message 'Object deleted successfully' is change by 
	'{0} deleted successfully'. Hence it's required to
	change the asserts of this messages.
</ul>