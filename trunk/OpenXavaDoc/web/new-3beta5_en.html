<h4>New @OnChangeSearch annotation for references</h4>
Now it's possible to refine the action to execute when the user types the key of a reference in order to search it.<br>
You define your reference<span style="font-family: monospace;"></span> in this way:<br>
<pre>@ManyToOne<span class="br0">(</span>fetch=FetchType.<span class="me1">LAZY</span><span class="br0">)</span><br>@OnChangeSearch<span class="br0">(</span>OnChangeSubfamilySearchAction.<span class="kw2">class</span><span class="br0">)</span><br><span class="kw2">private</span> Subfamily subfamily;</pre>
And write your own action for searching:<br>
<pre>package org.openxava.test.actions;</pre>
<pre><br>import org.openxava.actions.*;</pre>
<pre><br>/**</pre>
<pre>&nbsp;* </pre>
<pre>&nbsp;* @author Javier Paniza</pre>
<pre>&nbsp;*/</pre>
<pre>public class OnChangeSubfamilySearchAction extends OnChangeSearchAction {</pre>
<pre><br>&nbsp;&nbsp;&nbsp; public void execute() throws Exception {&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (getView().getValueInt("number") == 0) {</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; getView().setValue("number", new Integer("1"));</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</pre>
<pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; super.execute();</pre>
<pre>&nbsp;&nbsp;&nbsp; }</pre>
<pre>&nbsp;&nbsp;&nbsp; </pre>
<pre>}</pre>
