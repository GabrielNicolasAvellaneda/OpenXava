<h2>Para migrar de OpenXava 1.2.1 a OpenXava 2.0</h2>

<h4>Cambiar la secci&oacute;n activa</h4>

<code>xava_activeSection</code> ya no se usa para cambiar la secci&oacute;n activa.
Ahora si queremos cambiar la secci&oacute;n activa tenemos que llamar al m&eacute;todo
<code>setActiveSection</code> de la vista deseada (<code>org.openxava.view.View</code>).


<h2>Para migrar de OpenXava 1.2 a OpenXava 1.2.1</h2>

<h4>Generaci&oacute;n Hibernate</h4>
Ahora cuando la generaci&oacute;n EJB se hace, la generaci&oacute;n de
c&oacute;digo hibernate se realiza tambi&eacute;n (aunque la versi&oacute;n hibernate
todav&iacute;a no se soporta al 100%).<br>
Aunque uses solo la versi&oacute;n EJB necesitas hacer una peque&ntilde;a adaptaci&oacute;n
en tu proyecto:
<ul>
<li> Crea la carpeta <code>hibernate</code> en tu proyecto.
<li> Crea el archivo <code>hibernate.cfg.xml</code> dentro de la carpeta <code>hibernate</code>.
</ul>
El <code>hibernate.cfg.xml</code> ha de ser:
<pre>
&lt;!DOCTYPE hibernate-configuration PUBLIC
   "-//Hibernate/Hibernate Configuration DTD//EN"
   "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;
  &lt;hibernate-configuration&gt;
   &lt;session-factory&gt;
       &lt;property name="hibernate.connection.datasource"&gt;@datasource.prefix@/@datasource@&lt;/property&gt;
       &lt;property name="hibernate.dialect"&gt;@hibernate.dialect@&lt;/property&gt;
       &lt;property name="hibernate.show_sql"&gt;false&lt;/property&gt;
   &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;
</pre>
Adicionalmente tienes que incluir la propiedad <code>hibernate.dialect</code> en tus
archivos de configuraci&oacute;n:
<pre>
hibernate.dialect=org.hibernate.dialect.HSQLDialect
</pre>

<h4>Sintaxis XML de OpenXava</h4>
<ul>
<li> En espa&ntilde;ol PEQUE&Ntilde;A pasa a ser PEQUENA. Para evitar problemas con
ISO-8859-1 y UTF-8.
</ul>


<h2>Para migrar de OpenXava 1.1 a OpenXava 1.2</h2>

<h4>C&oacute;digo generado</h4>
Ahora las interfaces remote de EJB tienen el sufijo <i>Remote</i>, y la
interfaz de negocio generada para cada componente (por ejemplo <code>ICliente</code>)
no contiene todos los m&eacute;todos de la interface remota.<br>
Esto es para permitir que la futura versi&oacute;n 2 de OpenXava pueda trabajar
con EJB e Hibernate en el mismo projecto y a la vez.<br>
Para adaptar el c&oacute;digo hay que:
<ul>
<li>Borrar todo el c&oacute;digo generado
<li>Regenerar el c&oacute;digo EJB
<li>Compilar
<li>Buscar y corregir los errores de sintaxis
</ul>
Para corregir los errores de sintaxis se tiene que hacer cambios como &eacute;ste:
<pre>
<b>Cliente</b> cliente = ClienteUtil.getHome().findByNombre("PEPE");
String nombre = cliente.getNombre();
</pre>
Cambiarlo por:
<pre>
<b>ICliente</b> cliente = ClienteUtil.getHome().findByNombre("PEPE");
String nombre = cliente.getNombre();
</pre>
Si se usan m&eacute;todos espec&iacute;ficos de EJB hay que moldear a la interfaz remota:
<pre>
<b>Cliente</b> cliente = ClienteUtil.getHome().findByNombre("PEPE");
ClienteKey key = cliente.getPrimaryKey();
</pre>
Cambiarlo por:
<pre>
<b>ClienteRemote</b> cliente = ClienteUtil.getHome().findByNombre("PEPE");
ClienteKey key = cliente.getPrimaryKey();
</pre>
Es decir, cambiar <code>Cliente</code> por <code>ICliente</code> cuando sea posible,
de no serlo cambiarlo por <code>CustomeRemote</code>.
</p>

<h4>Pruebas JUnit</h4>
<ul>
<li> Al borrar un objeto en a mantenimiento ahora OpenXava muestra una ventana javascript
	para confirmar, en vez de cambiar a otro controlador. Por lo tanto en tus pruebas
	para borrar un objeto en un módulo de mantenimiento solo necesitas usar execute("CRUD.delete"). 
	En este caso 'Sí' como respuesta de confirmación.
</ul>


<h4>Otros</h4>
<ul>
<li> Cambia el nombre packages-ejb.properties en gen-src-xava a packages.properties
		(o simplemente borrar packages-ejb.properties y regenera c&oacute;digo).
</li>
</ul>

<h2>Para migrar de OpenXava 1.0 a OpenXava 1.1</h2>

<h4>APIs</h4>
<ul>
<li>MetaView.getMetaViewCollection pasa a llamarse MetaView.getMetaCollectionView
<li>MetaView.getMetaViewReference pasa a llamarse MetaView.getMetaReferenceView
</ul>

<h4>Pruebas junit</h4>
<ul>
<li> Se cambia el mensaje 'Objeto borrado satisfactoriamente' por 
	'{0} borrado satisfactoriamente'. As&iacute; es necesario cambiar los asserts
	de este mensaje.
</ul>